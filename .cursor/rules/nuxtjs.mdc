---
description: Nuxt.js 4 rules and conventions
globs: ["apps/website/**"]
---

# Nuxt.js 4

- The project uses Nuxt.js 4.1.3 with compatibility version 4 enabled in `nuxt.config.ts`
- Always use TypeScript for all Nuxt.js code
- Use the Composition API with `<script setup>` syntax for all components
- Use composables for reusable logic (place them in the `composables/` directory)
- State management should use Pinia stores (located in `stores/` directory)
- Use `useRuntimeConfig()` to access environment variables and configuration
- Use `useHead()` for managing page metadata and SEO
- Use `defineNuxtConfig()` for configuration in `nuxt.config.ts`
- Pages should be placed in the `pages/` directory following Nuxt's file-based routing
- Components should be placed in the `components/` directory and auto-imported
- Use `@nuxtjs/strapi` module for Strapi integration
- Use `@nuxt/image` for optimized image handling
- Use `@nuxtjs/seo` for SEO configuration
- Use `nuxt-security` for security headers and CSP configuration
- Use `@sentry/nuxt` for error tracking and monitoring
- Use `@pinia/nuxt` and `@pinia-plugin-persistedstate/nuxt` for state management
- Server-side code should be placed in the `server/` directory
- Use Nitro for server configuration and API routes
- Always use `useRuntimeConfig().public` for client-accessible configuration
- Use `useRuntimeConfig()` without `.public` for server-only configuration
- Follow Nuxt 4 conventions: use auto-imports, composables, and the new module system
- Use `definePageMeta()` for page-specific configuration
- Use `navigateTo()` for programmatic navigation
- Use `useFetch()` or `$fetch` for API calls
- Use `useAsyncData()` for data fetching with caching
- Always use TypeScript types from `@nuxt/types` when available
- Use Vite 6 for build tooling (configured in Nuxt 4)
- Use `compatibilityDate` in nuxt.config.ts to control feature availability
- Use `future.compatibilityVersion: 4` to enable Nuxt 4 features
- Follow the project's security configuration with CSP and nonce support
- Use `@nuxt/eslint` for linting (configured in the project)
- Use Vitest for testing (configured with `@nuxt/test-utils`)
- Use Sass for styling (configured with sass-loader)
- **CSS and BEM Methodology:**
  - Follow BEM (Block Element Modifier) naming convention for CSS classes
  - CSS files are organized as one file per component (e.g., `HeaderDefault` uses `header.scss`, not `header-default.scss`)
  - Component CSS files should be named after the base component class (e.g., `header.scss` for `.header`, `box.scss` for `.box`)
  - Do NOT create new CSS files unless the component doesn't exist
  - Do NOT add shadows (`box-shadow`) or zoom effects (`transform: scale`) to elements
  - Keep transitions simple and avoid scale transforms on hover
  - **SCSS nesting must reflect HTML hierarchy:** If an element is a child of another element in the HTML, it must be nested inside in SCSS. If elements are siblings in the HTML, they must be at the same nesting level in SCSS (e.g., `&__item` and `&__content` as siblings, but `&__item { &__content { } }` if content is inside item)
- Always use English for code, comments, and documentation
- Use camelCase for variables and functions
- Use PascalCase for components and composables
- Use kebab-case for file names in pages and components
